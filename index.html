<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"/>
<title>The 1% — Quant Demo</title>
<style>
  :root {
    --bg:#1a2dab; /* royal blue */
    --card:#fff;
    --ink:#0B0C0F;
    --font:32px; /* large, mobile readable */
  }
  *{box-sizing:border-box}
  body {
    margin:0;
    font:var(--font)/1.35 -apple-system,BlinkMacSystemFont,Inter,system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
    color:var(--ink);
    background:var(--bg);
  }
  .top{position:sticky;top:0;height:60px;display:flex;align-items:center;justify-content:space-between;
    padding:0 16px;background:rgba(255,255,255,.9);backdrop-filter:blur(10px);font-weight:800}
  .wrap{max-width:720px;margin:20px auto 88px;padding:0 12px}
  h1{font-size:1.2em;color:#fff;margin:6px 0}
  .lead{color:#e6ebff;font-size:.55em;margin:0 0 14px}
  .card{background:var(--card);border-radius:16px;padding:14px;margin-bottom:14px;box-shadow:0 10px 30px rgba(0,0,0,.25)}
  .title{font-weight:900;font-size:.8em;margin-bottom:6px}
  .sub{font-size:.5em;opacity:.7;margin-bottom:6px}
  .row2{display:grid;grid-template-columns:1fr 1fr;gap:8px}
  .input,button,input[type=range]{height:48px;font-size:.7em;border-radius:12px;border:1px solid rgba(0,0,0,.08);padding:0 12px;width:100%}
  .btn{border:none;color:#fff;font-weight:800;cursor:pointer}
  .go{background:linear-gradient(180deg,#38ef7d,#11998e)}
  .pause{background:linear-gradient(180deg,#ffb347,#ffcc33);color:#222}
  .danger{background:linear-gradient(180deg,#ff5858,#f857a6)}
  .pill{display:inline-block;border-radius:999px;padding:6px 12px;background:rgba(0,0,0,.1);font-size:.55em}
  .log{height:120px;overflow:auto;border:1px solid rgba(0,0,0,.06);border-radius:10px;padding:8px;font-size:.55em;background:#fafafa;font-family:ui-monospace,Menlo,monospace}
  .footer{position:fixed;left:0;right:0;bottom:0;height:46px;display:flex;align-items:center;justify-content:space-between;
    padding:0 16px;background:rgba(255,255,255,.9);backdrop-filter:blur(8px);font-size:.55em;border-top:1px solid rgba(0,0,0,.08)}
  canvas{display:block;width:100%;height:180px;border-radius:12px;background:rgba(255,255,255,.08)}
  /* Modal */
  .modalBack{position:fixed;inset:0;background:rgba(0,0,0,.35);display:none;align-items:center;justify-content:center;z-index:10}
  .modal{width:min(420px,92vw);background:#fff;border-radius:14px;padding:16px;font-size:.65em;box-shadow:0 20px 60px rgba(0,0,0,.35)}
  .modal h3{margin:0 0 8px;font-size:1em}
</style>
</head>
<body>
  <div class="top">
    <div>The 1% — Quant Demo</div>
    <div class="pill">Bucks</div>
  </div>

  <div class="wrap">
    <h1>Quant Bot Demo</h1>
    <p class="lead">Adjust risk, stop, leverage. Watch micro-trades fly & candlesticks tick.</p>

    <!-- Stream -->
    <div class="card">
      <div class="title">Exchange Stream</div>
      <canvas id="stream"></canvas>
      <div class="pill" id="tps">Trades/sec: 0</div>
      <div class="pill" id="flow">1s Flow: 0 Bucks</div>
      <div class="pill" id="win">Win rate: 0%</div>
      <div class="pill" id="lev">Leverage: 2.0×</div>
    </div>

    <!-- Charts -->
    <div class="card"><div class="title">AAPL</div><div id="chartAAPL" style="height:200px"></div></div>
    <div class="card"><div class="title">NVDA</div><div id="chartNVDA" style="height:200px"></div></div>
    <div class="card"><div class="title">TSLA</div><div id="chartTSLA" style="height:200px"></div></div>

    <!-- Balance -->
    <div class="card">
      <div class="title">Balance</div>
      <div class="row2">
        <div><div class="sub">Balance</div><div id="balance">10,000,000 Bucks</div></div>
        <div><div class="sub">Equity</div><div id="equity">10,000,000 Bucks</div></div>
      </div>
      <div class="row2" style="margin-top:8px">
        <div><div class="sub">Realized P&amp;L</div><div id="realized">0 Bucks</div></div>
        <div><div class="sub">Unrealized</div><div id="unrealized">0 Bucks</div></div>
      </div>
    </div>

    <!-- Bot -->
    <div class="card">
      <div class="title">Quant Bot</div>
      <div><div class="sub">Risk %</div><input id="risk" type="range" min="1" max="60" value="15"><div id="riskRead" class="pill">15%</div></div>
      <div><div class="sub">Stop %</div><input id="stop" type="range" min="1" max="50" value="5"><div id="stopRead" class="pill">5%</div></div>
      <div><div class="sub">Leverage</div><input id="levSlider" type="range" min="1" max="5" step="0.5" value="2"><div id="levRead" class="pill">2.0×</div></div>
      <div class="row2" style="margin-top:8px">
        <button id="start" class="btn go">Start Bot</button>
        <button id="auto" class="btn pause">Auto: OFF</button>
      </div>
    </div>

    <!-- Log -->
    <div class="card"><div class="title">Activity</div><div class="log" id="log"></div></div>
  </div>

  <div class="footer">
    <div>© <span id="year"></span> The 1%</div>
    <div id="status">Bot: Stopped</div>
  </div>

  <!-- Modal -->
  <div id="modalBack" class="modalBack">
    <div class="modal">
      <h3>Bot Guidance</h3>
      <p>Keep current parameters or pause?</p>
      <div class="row2">
        <button id="mKeep" class="btn go">Keep</button>
        <button id="mPause" class="btn danger">Pause</button>
      </div>
    </div>
  </div>

<!-- Lightweight Charts -->
<script src="https://unpkg.com/lightweight-charts@4.2.0/dist/lightweight-charts.standalone.production.js"></script>
<script>
/* ---- State ---- */
const TICKERS=["AAPL","NVDA","TSLA"];
const el=id=>document.getElementById(id);
const fmt=n=>Number(n).toLocaleString();

const state={quotes:{AAPL:180,NVDA:500,TSLA:250},balance:10_000_000,positions:{},realized:0,bot:{on:false,auto:false,risk:15,stop:5,lev:2,lastPrompt:0},wins:0,trades:0};

/* ---- Charts ---- */
function makeChart(elId,up,down,sym){
  const chart=LightweightCharts.createChart(document.getElementById(elId),{layout:{background:{color:'transparent'},textColor:'#000'},grid:{vertLines:{color:'rgba(0,0,0,.1)'},horzLines:{color:'rgba(0,0,0,.1)'}},timeScale:{visible:false}});
  const series=chart.addCandlestickSeries({upColor:up,downColor:down,borderUpColor:up,borderDownColor:down,wickUpColor:up,wickDownColor:down});
  const px=state.quotes[sym]; const now=Math.floor(Date.now()/1000);
  series.setData([{time:now,open:px,high:px,low:px,close:px}]);
  return {series,sym};
}
const charts=[
  makeChart("chartAAPL","#2ecc71","#e74c3c","AAPL"),
  makeChart("chartNVDA","#1abc9c","#c0392b","NVDA"),
  makeChart("chartTSLA","#f39c12","#8e44ad","TSLA")
];
setInterval(()=>{const now=Math.floor(Date.now()/1000);charts.forEach(c=>{const px=state.quotes[c.sym];c.series.update({time:now,open:px,high:px,low:px,close:px});});},2000);

/* ---- Stream ---- */
const canvas=el("stream"),ctx=canvas.getContext("2d");canvas.width=600;canvas.height=180;let sparks=[];
function spawn(win){sparks.push({x:0,y:20+Math.random()*140,vx:4+Math.random()*6,life:60,color:win?"#2ecc71":"#e74c3c"});}
function draw(){ctx.fillStyle="rgba(255,255,255,0.08)";ctx.fillRect(0,0,canvas.width,canvas.height);sparks.forEach(s=>{s.x+=s.vx;s.life--;ctx.fillStyle=s.color;ctx.beginPath();ctx.arc(s.x,s.y,3,0,6.28);ctx.fill();});sparks=sparks.filter(s=>s.life>0);requestAnimationFrame(draw);}draw();

/* ---- Trading Sim ---- */
function tradeBurst(){if(!state.bot.on)return;const risk=state.bot.risk/100;const lev=state.bot.lev;const sym=TICKERS[(Math.random()*3)|0];const px=state.quotes[sym];const up=Math.random()<0.5;state.quotes[sym]=px*(1+(Math.random()-0.5)*0.01);state.trades++;const win=Math.random()<0.55; if(win) state.wins++;spawn(win);}
setInterval(tradeBurst,50);

/* ---- UI ---- */
function render(){el("balance").textContent=`${fmt(state.balance)} Bucks`;el("equity").textContent=`${fmt(state.balance)} Bucks`;el("realized").textContent=`${fmt(state.realized)} Bucks`;el("unrealized").textContent=`0 Bucks`;el("tps").textContent=`Trades: ${state.trades}`;el("win").textContent=`Win rate: ${((state.wins/state.trades)||0*100).toFixed(0)}%`;el("lev").textContent=`Leverage: ${state.bot.lev.toFixed(1)}×`;}
setInterval(render,1000);

/* ---- Controls ---- */
el("risk").oninput=()=>{state.bot.risk=+el("risk").value;el("riskRead").textContent=`${state.bot.risk}%`;}
el("stop").oninput=()=>{state.bot.stop=+el("stop").value;el("stopRead").textContent=`${state.bot.stop}%`;}
el("levSlider").oninput=()=>{state.bot.lev=+el("levSlider").value;el("levRead").textContent=`${state.bot.lev.toFixed(1)}×`;}
el("start").onclick=()=>{state.bot.on=!state.bot.on;el("status").textContent=state.bot.on?"Bot: Running":"Bot: Stopped";}
el("auto").onclick=()=>{state.bot.auto=!state.bot.auto;el("auto").textContent=state.bot.auto?"Auto: ON":"Auto: OFF";}
el("mKeep").onclick=()=>{el("modalBack").style.display="none";}
el("mPause").onclick=()=>{el("modalBack").style.display="none";state.bot.on=false;el("status").textContent="Bot: Stopped";}
el("year").textContent=new Date().getFullYear();
</script>
</body>
</html>
